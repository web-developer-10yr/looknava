<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Looknava - Premium Fashion</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid rgba(255,255,255,0.5);
        }

        .logo {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 25px;
        }

        nav ul li a {
            text-decoration: none;
            color: #333;
            font-weight: 600;
            transition: color 0.3s;
        }

        nav ul li a:hover {
            color: #ff6b6b;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-menu button {
            background: none;
            border: none;
            color: #333;
            font-weight: 600;
            cursor: pointer;
            transition: color 0.3s;
        }

        .user-menu button:hover {
            color: #ff6b6b;
        }

        .cart-icon {
            position: relative;
            cursor: pointer;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff6b6b;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .hero {
            text-align: center;
            padding: 100px 0;
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1441986300917-64674bd600d8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');
            background-size: cover;
            background-position: center;
            border-radius: 15px;
            margin-bottom: 40px;
            color: white;
            display: none;
        }

        .hero.active {
            display: block;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 30px;
        }

        .btn {
            display: inline-block;
            padding: 12px 30px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-weight: 600;
            transition: transform 0.3s, box-shadow 0.3s;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .btn-secondary {
            background: white;
            color: #333;
            margin-left: 10px;
        }

        .btn-secondary:hover {
            background: #f9f9f9;
        }

        .products {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .product-img {
            height: 250px;
            background: linear-gradient(45deg, #f5f7fa, #c3cfe2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            color: #ddd;
            overflow: hidden;
        }

        .product-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-info {
            padding: 20px;
        }

        .product-info h3 {
            font-size: 1.3rem;
            margin-bottom: 10px;
        }

        .product-info p {
            color: #666;
            margin-bottom: 15px;
            height: 60px;
            overflow: hidden;
        }

        .product-price {
            font-weight: 700;
            font-size: 1.2rem;
            color: #ff6b6b;
        }

        /* Auth Section as Overlay */
        .auth-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .auth-overlay.active {
            display: flex;
        }

        .auth-section {
            background: white;
            border-radius: 15px;
            padding: 40px;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
        }

        .auth-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
        }

        .auth-section h2 {
            text-align: center;
            margin-bottom: 30px;
            color: #333;
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 1px solid #eee;
        }

        .auth-tab {
            flex: 1;
            text-align: center;
            padding: 15px;
            cursor: pointer;
            font-weight: 600;
            color: #666;
            border-bottom: 2px solid transparent;
        }

        .auth-tab.active {
            color: #4ecdc4;
            border-bottom: 2px solid #4ecdc4;
        }

        .auth-forms {
            display: flex;
        }

        .auth-form {
            flex: 1;
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }

        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            border-color: #4ecdc4;
        }

        .btn-auth {
            width: 100%;
            padding: 12px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .btn-auth:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .admin-panel {
            display: none;
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            margin-bottom: 60px;
        }

        .admin-panel.active {
            display: block;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            border-bottom: 1px solid #eee;
            padding-bottom: 20px;
        }

        .admin-header h2 {
            color: #333;
        }

        .btn-logout {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
        }

        .admin-form {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .admin-form h3 {
            margin-bottom: 20px;
            color: #333;
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .admin-products {
            margin-top: 30px;
        }

        .admin-products h3 {
            margin-bottom: 20px;
            color: #333;
        }

        .admin-product-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .admin-product-card {
            background: white;
            border: 1px solid #eee;
            border-radius: 10px;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        .admin-product-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .admin-product-header h4 {
            color: #333;
        }

        .admin-actions {
            display: flex;
            gap: 10px;
        }

        .btn-edit, .btn-delete {
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .btn-edit {
            background: #4ecdc4;
            color: white;
        }

        .btn-delete {
            background: #ff6b6b;
            color: white;
        }

        .page-section {
            display: none;
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            margin-bottom: 60px;
        }

        .page-section.active {
            display: block;
        }

        .page-section h2 {
            margin-bottom: 30px;
            color: #333;
            text-align: center;
        }

        .page-section p {
            margin-bottom: 20px;
            line-height: 1.6;
            color: #555;
        }

        .size-chart {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
        }

        .size-chart th, .size-chart td {
            padding: 12px 15px;
            text-align: center;
            border: 1px solid #eee;
        }

        .size-chart th {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            font-weight: 600;
        }

        .size-chart tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .product-detail {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
        }

        .product-detail-image {
            flex: 1;
            min-width: 300px;
            height: 400px;
            background: linear-gradient(45deg, #f5f7fa, #c3cfe2);
            border-radius: 15px;
            overflow: hidden;
        }

        .product-detail-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-detail-info {
            flex: 1;
            min-width: 300px;
        }

        .product-detail-info h2 {
            font-size: 2rem;
            margin-bottom: 15px;
            color: #333;
        }

        .product-detail-info .price {
            font-size: 1.8rem;
            color: #ff6b6b;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .product-detail-info .description {
            color: #666;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .product-detail-info .category {
            display: inline-block;
            background: #f0f0f0;
            padding: 5px 15px;
            border-radius: 20px;
            margin-bottom: 25px;
            color: #666;
        }

        .product-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .quantity-selector button {
            width: 40px;
            height: 40px;
            border: 1px solid #ddd;
            background: white;
            font-size: 1.2rem;
            cursor: pointer;
        }

        .quantity-selector input {
            width: 60px;
            height: 40px;
            text-align: center;
            border: 1px solid #ddd;
            border-left: none;
            border-right: none;
            font-size: 1rem;
        }

        .cart-section {
            display: none;
        }

        .cart-section.active {
            display: block;
        }

        .cart-items {
            margin-bottom: 30px;
        }

        .cart-item {
            display: flex;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #eee;
        }

        .cart-item-image {
            width: 100px;
            height: 100px;
            background: #f0f0f0;
            border-radius: 10px;
            overflow: hidden;
            margin-right: 20px;
        }

        .cart-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-info h3 {
            margin-bottom: 10px;
        }

        .cart-item-price {
            color: #ff6b6b;
            font-weight: 600;
        }

        .cart-item-quantity {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }

        .cart-item-quantity button {
            width: 30px;
            height: 30px;
            border: 1px solid #ddd;
            background: white;
            cursor: pointer;
        }

        .cart-item-quantity input {
            width: 40px;
            height: 30px;
            text-align: center;
            border: 1px solid #ddd;
            border-left: none;
            border-right: none;
        }

        .cart-item-remove {
            color: #ff6b6b;
            cursor: pointer;
            margin-left: 20px;
        }

        .cart-summary {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
        }

        .cart-summary h3 {
            margin-bottom: 15px;
        }

        .cart-summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .cart-summary-row.total {
            font-weight: 700;
            font-size: 1.2rem;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #ddd;
        }

        .cart-actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 20px;
        }

        .empty-cart {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .empty-cart i {
            font-size: 4rem;
            margin-bottom: 20px;
            color: #ddd;
        }

        footer {
            text-align: center;
            padding: 30px 0;
            border-top: 1px solid rgba(255,255,255,0.5);
            color: #666;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transform: translateX(150%);
            transition: transform 0.3s ease;
            z-index: 1001;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-left: 4px solid #4ecdc4;
        }

        .notification.error {
            border-left: 4px solid #ff6b6b;
        }

        /* Customization Modal */
        .customize-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .customize-overlay.active {
            display: flex;
        }

        .customize-section {
            background: white;
            border-radius: 15px;
            padding: 40px;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
        }

        .customize-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
        }

        .customize-section h2 {
            text-align: center;
            margin-bottom: 30px;
            color: #333;
        }

        .product-info-summary {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .product-info-summary h3 {
            margin-bottom: 10px;
            color: #333;
        }

        .product-info-summary p {
            margin-bottom: 5px;
            color: #666;
        }

        .customize-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .customize-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .btn-cancel {
            background: #999;
            color: white;
        }

        .btn-cancel:hover {
            background: #777;
        }

        /* New styles for search and filter */
        .search-container {
            position: relative;
            width: 300px;
            margin-right: 20px;
        }

        .search-container input {
            width: 100%;
            padding: 10px 40px 10px 15px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 0.9rem;
            outline: none;
            transition: border-color 0.3s;
        }

        .search-container input:focus {
            border-color: #4ecdc4;
        }

        .search-container button {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #999;
            cursor: pointer;
        }

        .filter-container {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 20px 0;
        }

        .filter-dropdown {
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            background: white;
            font-size: 0.9rem;
            cursor: pointer;
            outline: none;
        }

        /* Loading spinner */
        .loading-spinner {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .loading-spinner.active {
            display: flex;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #4ecdc4;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Accessibility improvements */
        .skip-to-content {
            position: absolute;
            top: -40px;
            left: 0;
            background: #4ecdc4;
            color: white;
            padding: 8px;
            text-decoration: none;
            border-radius: 0 0 4px 0;
            z-index: 100;
        }

        .skip-to-content:focus {
            top: 0;
        }

        /* Form validation styles */
        .form-group.error input,
        .form-group.error textarea {
            border-color: #ff6b6b;
        }

        .error-message {
            color: #ff6b6b;
            font-size: 0.8rem;
            margin-top: 5px;
            display: none;
        }

        .form-group.error .error-message {
            display: block;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }

            .form-row {
                flex-direction: column;
            }

            nav ul {
                flex-direction: column;
                align-items: center;
            }

            nav ul li {
                margin: 10px 0;
            }

            .user-menu {
                flex-direction: column;
                gap: 10px;
            }

            .product-detail {
                flex-direction: column;
            }

            .product-actions {
                flex-direction: column;
            }

            .customize-actions {
                flex-direction: column;
            }

            .search-container {
                width: 100%;
                margin: 10px 0;
            }

            .filter-container {
                width: 100%;
                justify-content: space-between;
            }
        }
    </style>
</head>
<body>
    <div class="loading-spinner" id="loadingSpinner">
        <div class="spinner"></div>
    </div>

    <div class="container">
        <a href="#main-content" class="skip-to-content">Skip to main content</a>

        <header>
            <div class="logo">Looknava</div>

            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Search products..." aria-label="Search products">
                <button id="searchBtn" aria-label="Search"><i class="fas fa-search"></i></button>
            </div>

            <nav>
                <ul>
                    <li><a href="#" class="nav-link" data-page="home">Home</a></li>
                    <li><a href="#" class="nav-link" data-page="about">About</a></li>
                    <li><a href="#" class="nav-link" data-page="sizeChart">Size Chart</a></li>
                    <li><a href="#" class="nav-link" data-page="contact">Contact</a></li>
                </ul>
            </nav>

            <div class="user-menu">
                <span id="userEmail" style="display: none;"></span>
                <button id="authBtn" class="btn">Sign In</button>
                <button id="adminBtn" class="btn" style="display: none;">Admin Panel</button>
                <div class="cart-icon" id="cartIcon" aria-label="Shopping cart">
                    <i class="fas fa-shopping-cart fa-lg"></i>
                    <span class="cart-count" id="cartCount">0</span>
                </div>
            </div>
        </header>

        <div class="filter-container">
            <label for="categoryFilter" style="font-weight: 600;">Filter by Category:</label>
            <select id="categoryFilter" class="filter-dropdown">
                <option value="all">All Categories</option>
                <option value="T-Shirts">T-Shirts</option>
                <option value="Jackets">Jackets</option>
                <option value="Hats">Hats</option>
                <option value="Shoes">Shoes</option>
            </select>
        </div>

        <section class="hero" id="heroSection">
            <h1>Premium Fashion for Everyone</h1>
            <p>Discover the latest trends in fashion with Looknava's exclusive collection of premium clothing.</p>
            <a href="#" class="btn">Shop Now</a>
            <a href="#" class="btn btn-secondary">New Arrivals</a>
        </section>

        <!-- Auth Overlay -->
        <div class="auth-overlay" id="authOverlay">
            <div class="auth-section" id="authSection">
                <button class="auth-close" id="authClose">&times;</button>
                <h2>User Authentication</h2>
                <div class="auth-tabs">
                    <div class="auth-tab active" data-tab="signin">Sign In</div>
                    <div class="auth-tab" data-tab="signup">Sign Up</div>
                </div>
                <div class="auth-forms">
                    <form class="auth-form active" id="signinForm">
                        <div class="form-group">
                            <label for="signinEmail">Email</label>
                            <input type="email" id="signinEmail" placeholder="Enter your email" required>
                            <div class="error-message"></div>
                        </div>
                        <div class="form-group">
                            <label for="signinPassword">Password</label>
                            <input type="password" id="signinPassword" placeholder="Enter your password" required>
                            <div class="error-message"></div>
                        </div>
                        <button type="submit" class="btn-auth">Sign In</button>
                    </form>
                    <form class="auth-form" id="signupForm">
                        <div class="form-group">
                            <label for="signupName">Full Name</label>
                            <input type="text" id="signupName" placeholder="Enter your full name" required>
                            <div class="error-message"></div>
                        </div>
                        <div class="form-group">
                            <label for="signupEmail">Email</label>
                            <input type="email" id="signupEmail" placeholder="Enter your email" required>
                            <div class="error-message"></div>
                        </div>
                        <div class="form-group">
                            <label for="signupPassword">Password</label>
                            <input type="password" id="signupPassword" placeholder="Create a password" required>
                            <div class="error-message"></div>
                        </div>
                        <button type="submit" class="btn-auth">Sign Up</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Customization Overlay -->
        <div class="customize-overlay" id="customizeOverlay">
            <div class="customize-section" id="customizeSection">
                <button class="customize-close" id="customizeClose">&times;</button>
                <h2>Customize Your Product</h2>
                <div class="product-info-summary" id="productInfoSummary">
                    <!-- Product info will be dynamically added here -->
                </div>
                <div class="form-group">
                    <label for="customizationRequest">Customization Request</label>
                    <textarea id="customizationRequest" class="customize-textarea" placeholder="Please describe how you'd like to customize this product..."></textarea>
                </div>
                <div class="customize-actions">
                    <button type="button" class="btn btn-cancel" id="cancelCustomizeBtn">Cancel</button>
                    <button type="button" class="btn" id="submitCustomizeBtn">Submit Request</button>
                </div>
            </div>
        </div>

        <section class="admin-panel" id="adminPanel">
            <div class="admin-header">
                <h2>Admin Panel</h2>
                <button class="btn-logout" id="logoutBtn">Logout</button>
            </div>

            <div class="admin-form">
                <h3 id="formTitle">Add New Product</h3>
                <form id="productForm">
                    <input type="hidden" id="productId">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productName">Product Name</label>
                            <input type="text" id="productName" required>
                        </div>
                        <div class="form-group">
                            <label for="productPrice">Price ($)</label>
                            <input type="number" id="productPrice" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="productDescription">Description</label>
                        <input type="text" id="productDescription" required>
                    </div>
                    <div class="form-group">
                        <label for="productCategory">Category</label>
                        <input type="text" id="productCategory" required>
                    </div>
                    <div class="form-group">
                        <label for="productImage">Image URL</label>
                        <input type="text" id="productImage" placeholder="https://example.com/image.jpg">
                    </div>
                    <button type="submit" class="btn-auth" id="submitBtn">Add Product</button>
                    <button type="button" class="btn-auth" id="cancelBtn" style="background: #999; display: none;">Cancel</button>
                </form>
            </div>

            <div class="admin-products">
                <h3>Product Management</h3>
                <div class="admin-product-list" id="adminProductList">
                    <!-- Products will be dynamically added here -->
                </div>
            </div>
        </section>

        <section class="page-section active" id="homePage">
            <div class="products" id="productsSection" id="main-content">
                <!-- Products will be dynamically added here -->
            </div>
        </section>

        <section class="page-section" id="aboutPage">
            <h2>About Looknava</h2>
            <p>Looknava is a premium fashion brand that believes in creating clothing that not only looks good but also feels good to wear. Founded in 2010, our mission has been to provide high-quality, sustainable fashion that doesn't compromise on style.</p>
            <p>At Looknava, we carefully select materials that are both luxurious and environmentally friendly. Our design team draws inspiration from global fashion trends while maintaining a unique aesthetic that sets us apart from the competition.</p>
            <p>We believe that fashion should be inclusive, which is why we offer a wide range of sizes and styles to suit every body type and personal preference. Our commitment to quality craftsmanship ensures that every piece in our collection is made to last.</p>
            <p>Thank you for choosing Looknava. We're excited to be part of your fashion journey.</p>
        </section>

        <section class="page-section" id="sizeChartPage">
            <h2>Size Chart</h2>
            <p>Use our size chart to find the perfect fit for your Looknava clothing. All measurements are in inches.</p>
            <table class="size-chart">
                <thead>
                    <tr>
                        <th>Size</th>
                        <th>Chest</th>
                        <th>Waist</th>
                        <th>Hips</th>
                        <th>Inseam</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>XS</td>
                        <td>30-32</td>
                        <td>24-26</td>
                        <td>32-34</td>
                        <td>30</td>
                    </tr>
                    <tr>
                        <td>S</td>
                        <td>32-34</td>
                        <td>26-28</td>
                        <td>34-36</td>
                        <td>31</td>
                    </tr>
                    <tr>
                        <td>M</td>
                        <td>34-36</td>
                        <td>28-30</td>
                        <td>36-38</td>
                        <td>32</td>
                    </tr>
                    <tr>
                        <td>L</td>
                        <td>36-38</td>
                        <td>30-32</td>
                        <td>38-40</td>
                        <td>33</td>
                    </tr>
                    <tr>
                        <td>XL</td>
                        <td>38-40</td>
                        <td>32-34</td>
                        <td>40-42</td>
                        <td>34</td>
                    </tr>
                    <tr>
                        <td>XXL</td>
                        <td>40-42</td>
                        <td>34-36</td>
                        <td>42-44</td>
                        <td>35</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="page-section" id="contactPage">
            <h2>Contact Us</h2>
            <p>We'd love to hear from you! If you have any questions, comments, or concerns, please don't hesitate to reach out to us.</p>
            <p><strong>Email:</strong> contact@looknava.com</p>
            <p><strong>Phone:</strong> (123) 456-7890</p>
            <p><strong>Address:</strong> 123 Fashion Street, Style City, NY 10001</p>
            <p>Our customer service team is available Monday through Friday, 9am to 5pm EST.</p>
        </section>

        <section class="page-section" id="productDetailPage">
            <div class="product-detail">
                <div class="product-detail-image" id="productDetailImage">
                    <!-- Product image will be displayed here -->
                </div>
                <div class="product-detail-info">
                    <h2 id="productDetailName">Product Name</h2>
                    <div class="price" id="productDetailPrice">$0.00</div>
                    <div class="category" id="productDetailCategory">Category</div>
                    <div class="description" id="productDetailDescription">Product description goes here.</div>

                    <div class="quantity-selector">
                        <button id="decreaseQuantity">-</button>
                        <input type="number" id="productQuantity" value="1" min="1" max="10">
                        <button id="increaseQuantity">+</button>
                    </div>

                    <div class="product-actions">
                        <button class="btn" id="addToCartBtn">Add to Cart</button>
                        <button class="btn" id="buyNowBtn">Buy Now</button>
                        <button class="btn btn-secondary" id="customizeBtn">Customize</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="page-section cart-section" id="cartPage">
            <h2>Your Shopping Cart</h2>
            <div id="cartItemsContainer">
                <!-- Cart items will be dynamically added here -->
            </div>
            <div class="cart-summary" id="cartSummary" style="display: none;">
                <h3>Order Summary</h3>
                <div class="cart-summary-row">
                    <span>Subtotal:</span>
                    <span id="cartSubtotal">$0.00</span>
                </div>
                <div class="cart-summary-row">
                    <span>Shipping:</span>
                    <span id="cartShipping">$5.99</span>
                </div>
                <div class="cart-summary-row">
                    <span>Tax:</span>
                    <span id="cartTax">$0.00</span>
                </div>
                <div class="cart-summary-row total">
                    <span>Total:</span>
                    <span id="cartTotal">$0.00</span>
                </div>
                <div class="cart-actions">
                    <button class="btn" id="checkoutBtn">Proceed to Checkout</button>
                </div>
            </div>
        </section>

        <footer>
            <p>&copy; 2023 Looknava. All rights reserved.</p>
        </footer>
    </div>

    <div class="notification" id="notification" role="alert" aria-live="assertive"></div>

    <script>
        // DOM Elements
        const authOverlay = document.getElementById('authOverlay');
        const authSection = document.getElementById('authSection');
        const authClose = document.getElementById('authClose');
        const customizeOverlay = document.getElementById('customizeOverlay');
        const customizeSection = document.getElementById('customizeSection');
        const customizeClose = document.getElementById('customizeClose');
        const customizationRequest = document.getElementById('customizationRequest');
        const productInfoSummary = document.getElementById('productInfoSummary');
        const cancelCustomizeBtn = document.getElementById('cancelCustomizeBtn');
        const submitCustomizeBtn = document.getElementById('submitCustomizeBtn');
        const adminPanel = document.getElementById('adminPanel');
        const signinForm = document.getElementById('signinForm');
        const signupForm = document.getElementById('signupForm');
        const productForm = document.getElementById('productForm');
        const adminProductList = document.getElementById('adminProductList');
        const productsSection = document.getElementById('productsSection');
        const logoutBtn = document.getElementById('logoutBtn');
        const cancelBtn = document.getElementById('cancelBtn');
        const formTitle = document.getElementById('formTitle');
        const submitBtn = document.getElementById('submitBtn');
        const productId = document.getElementById('productId');
        const notification = document.getElementById('notification');
        const authBtn = document.getElementById('authBtn');
        const adminBtn = document.getElementById('adminBtn');
        const userEmail = document.getElementById('userEmail');
        const cartIcon = document.getElementById('cartIcon');
        const cartCount = document.getElementById('cartCount');
        const heroSection = document.getElementById('heroSection');

        // New DOM elements
        const searchInput = document.getElementById('searchInput');
        const searchBtn = document.getElementById('searchBtn');
        const categoryFilter = document.getElementById('categoryFilter');
        const loadingSpinner = document.getElementById('loadingSpinner');

        // Page sections
        const homePage = document.getElementById('homePage');
        const aboutPage = document.getElementById('aboutPage');
        const sizeChartPage = document.getElementById('sizeChartPage');
        const contactPage = document.getElementById('contactPage');
        const productDetailPage = document.getElementById('productDetailPage');
        const cartPage = document.getElementById('cartPage');

        // Product detail elements
        const productDetailImage = document.getElementById('productDetailImage');
        const productDetailName = document.getElementById('productDetailName');
        const productDetailPrice = document.getElementById('productDetailPrice');
        const productDetailCategory = document.getElementById('productDetailCategory');
        const productDetailDescription = document.getElementById('productDetailDescription');
        const productQuantity = document.getElementById('productQuantity');
        const decreaseQuantity = document.getElementById('decreaseQuantity');
        const increaseQuantity = document.getElementById('increaseQuantity');
        const addToCartBtn = document.getElementById('addToCartBtn');
        const buyNowBtn = document.getElementById('buyNowBtn');
        const customizeBtn = document.getElementById('customizeBtn');

        // Cart elements
        const cartItemsContainer = document.getElementById('cartItemsContainer');
        const cartSummary = document.getElementById('cartSummary');
        const cartSubtotal = document.getElementById('cartSubtotal');
        const cartShipping = document.getElementById('cartShipping');
        const cartTax = document.getElementById('cartTax');
        const cartTotal = document.getElementById('cartTotal');
        const checkoutBtn = document.getElementById('checkoutBtn');

        // Auth tabs
        const authTabs = document.querySelectorAll('.auth-tab');
        const authForms = document.querySelectorAll('.auth-form');

        // Navigation links
        const navLinks = document.querySelectorAll('.nav-link');

        // Admin credentials
        const adminEmail = 'looknava@gmail.com';
        const adminPassword = '123456love';

        // Current product for detail view
        let currentProduct = null;

        // Initialize database
        function initDatabase() {
            if (!localStorage.getItem('looknava_products')) {
                const defaultProducts = [
                    {
                        id: 1,
                        name: 'Premium Cotton T-Shirt',
                        price: 29.99,
                        description: 'Comfortable and stylish t-shirt made from 100% organic cotton. Perfect for everyday wear with a soft feel and durable construction.',
                        category: 'T-Shirts',
                        image: 'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
                    },
                    {
                        id: 2,
                        name: 'Designer Denim Jacket',
                        price: 79.99,
                        description: 'Trendy denim jacket with a modern fit and premium finish. Features multiple pockets and adjustable waist for a custom fit.',
                        category: 'Jackets',
                        image: 'https://images.unsplash.com/photo-1551537482-f2075a1d41f2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
                    },
                    {
                        id: 3,
                        name: 'Summer Fedora Hat',
                        price: 39.99,
                        description: 'Stylish fedora hat perfect for summer outings and beach days. Made from breathable materials with a classic design.',
                        category: 'Hats',
                        image: 'https://images.unsplash.com/photo-1524666041070-9d87356c25cd?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
                    },
                    {
                        id: 4,
                        name: 'Leather Sneakers',
                        price: 89.99,
                        description: 'Handcrafted leather sneakers that combine comfort with elegance. Features cushioned insoles and durable rubber outsoles.',
                        category: 'Shoes',
                        image: 'https://images.unsplash.com/photo-1549298916-b41d501d3772?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
                    }
                ];
                localStorage.setItem('looknava_products', JSON.stringify(defaultProducts));
            }

            if (!localStorage.getItem('looknava_users')) {
                localStorage.setItem('looknava_users', JSON.stringify([]));
            }

            if (!localStorage.getItem('looknava_cart')) {
                localStorage.setItem('looknava_cart', JSON.stringify([]));
            }
        }

        // Get products from database
        function getProducts() {
            return JSON.parse(localStorage.getItem('looknava_products')) || [];
        }

        // Save products to database
        function saveProducts(products) {
            localStorage.setItem('looknava_products', JSON.stringify(products));
        }

        // Get users from database
        function getUsers() {
            return JSON.parse(localStorage.getItem('looknava_users')) || [];
        }

        // Save users to database
        function saveUsers(users) {
            localStorage.setItem('looknava_users', JSON.stringify(users));
        }

        // Get cart from database
        function getCart() {
            return JSON.parse(localStorage.getItem('looknava_cart')) || [];
        }

        // Save cart to database
        function saveCart(cart) {
            localStorage.setItem('looknava_cart', JSON.stringify(cart));
            updateCartCount();
        }

        // Update cart count
        function updateCartCount() {
            const cart = getCart();
            let count = 0;
            cart.forEach(item => {
                count += item.quantity;
            });
            cartCount.textContent = count;
        }

        // Check if user is logged in
        function checkUserStatus() {
            const isLoggedIn = localStorage.getItem('userLoggedIn');
            const isAdminLoggedIn = localStorage.getItem('adminLoggedIn');

            if (isLoggedIn === 'true') {
                const email = localStorage.getItem('currentUserEmail');
                userEmail.textContent = email;
                userEmail.style.display = 'block';
                authBtn.textContent = 'Logout';
            } else {
                userEmail.style.display = 'none';
                authBtn.textContent = 'Sign In';
            }

            if (isAdminLoggedIn === 'true') {
                adminPanel.classList.add('active');
                adminBtn.style.display = 'block';
                renderAdminProducts();
            } else {
                adminPanel.classList.remove('active');
                adminBtn.style.display = 'none';
            }

            renderProducts();
            updateCartCount();
        }

        // Show notification
        function showNotification(message, type) {
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');

            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Show loading spinner
        function showLoading() {
            loadingSpinner.classList.add('active');
        }

        // Hide loading spinner
        function hideLoading() {
            loadingSpinner.classList.remove('active');
        }

        // Password hashing function
        function hashPassword(password) {
            // Simple hash function for demonstration
            // In production, use a proper hashing library like bcrypt
            let hash = 0;
            for (let i = 0; i < password.length; i++) {
                const char = password.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; // Convert to 32-bit integer
            }
            return hash.toString();
        }

        // Validate email format
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        // Validate password strength
        function validatePassword(password) {
            return password.length >= 6;
        }

        // Show form validation error
        function showFieldError(fieldId, message) {
            const field = document.getElementById(fieldId);
            const formGroup = field.closest('.form-group');
            const errorMessage = formGroup.querySelector('.error-message');

            if (!errorMessage) {
                const errorElement = document.createElement('div');
                errorElement.className = 'error-message';
                errorElement.textContent = message;
                formGroup.appendChild(errorElement);
            } else {
                errorMessage.textContent = message;
            }

            formGroup.classList.add('error');
        }

        // Clear form validation error
        function clearFieldError(fieldId) {
            const field = document.getElementById(fieldId);
            const formGroup = field.closest('.form-group');
            formGroup.classList.remove('error');
        }

        // Handle image loading errors
        function handleImageError(img) {
            img.onerror = null; // Prevent infinite loop
            img.src = 'https://via.placeholder.com/300x300?text=Image+Not+Available';
            img.alt = 'Product image not available';
        }

        // Lazy load images
        function lazyLoadImages() {
            const images = document.querySelectorAll('img[data-src]');
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.dataset.src;
                        img.removeAttribute('data-src');
                        img.onerror = () => handleImageError(img);
                        observer.unobserve(img);
                    }
                });
            });

            images.forEach(img => {
                imageObserver.observe(img);
            });
        }

        // Filter products by category
        function filterProducts() {
            const selectedCategory = categoryFilter.value.toLowerCase();
            const searchTerm = searchInput.value.toLowerCase();
            const products = getProducts();

            let filteredProducts = products;

            // Filter by category
            if (selectedCategory !== 'all') {
                filteredProducts = filteredProducts.filter(product =>
                    product.category.toLowerCase() === selectedCategory
                );
            }

            // Filter by search term
            if (searchTerm) {
                filteredProducts = filteredProducts.filter(product =>
                    product.name.toLowerCase().includes(searchTerm) ||
                    product.description.toLowerCase().includes(searchTerm) ||
                    product.category.toLowerCase().includes(searchTerm)
                );
            }

            renderFilteredProducts(filteredProducts);
        }

        // Render filtered products
        function renderFilteredProducts(products) {
            showLoading();

            setTimeout(() => {
                productsSection.innerHTML = '';

                if (products.length === 0) {
                    productsSection.innerHTML = `
                        <div style="text-align: center; padding: 40px; grid-column: 1 / -1;">
                            <i class="fas fa-search fa-3x" style="color: #ddd; margin-bottom: 20px;"></i>
                            <h3>No products found</h3>
                            <p>Try adjusting your search or filter criteria</p>
                        </div>
                    `;
                    hideLoading();
                    return;
                }

                products.forEach(product => {
                    const productCard = document.createElement('div');
                    productCard.className = 'product-card';
                    productCard.setAttribute('data-id', product.id);
                    productCard.setAttribute('tabindex', '0'); // Make focusable for keyboard navigation
                    productCard.setAttribute('role', 'button');
                    productCard.setAttribute('aria-label', `View details for ${product.name}`);

                    if (product.image) {
                        productCard.innerHTML = `
                            <div class="product-img">
                                <img data-src="${product.image}" alt="${product.name}">
                            </div>
                        `;
                    } else {
                        productCard.innerHTML = `
                            <div class="product-img">
                                <i class="fas fa-tshirt"></i>
                            </div>
                        `;
                    }

                    productCard.innerHTML += `
                        <div class="product-info">
                            <h3>${product.name}</h3>
                            <p>${product.description}</p>
                            <div class="product-price">$${product.price.toFixed(2)}</div>
                        </div>
                    `;

                    productCard.addEventListener('click', function() {
                        showProductDetail(product.id);
                    });

                    // Add keyboard support
                    productCard.addEventListener('keydown', function(e) {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            showProductDetail(product.id);
                        }
                    });

                    productsSection.appendChild(productCard);
                });

                lazyLoadImages();
                hideLoading();
            }, 500); // Simulate loading time
        }

        // Render products
        function renderProducts() {
            const products = getProducts();
            renderFilteredProducts(products);
        }

        // Show product detail
        function showProductDetail(productId) {
            const products = getProducts();
            const product = products.find(p => p.id === parseInt(productId));

            if (product) {
                currentProduct = product;

                // Hide all pages
                document.querySelectorAll('.page-section').forEach(section => {
                    section.classList.remove('active');
                });

                // Hide hero
                heroSection.classList.remove('active');

                // Show product detail page
                productDetailPage.classList.add('active');

                // Populate product detail
                if (product.image) {
                    productDetailImage.innerHTML = `<img src="${product.image}" alt="${product.name}">`;
                } else {
                    productDetailImage.innerHTML = '<i class="fas fa-tshirt fa-5x"></i>';
                }

                productDetailName.textContent = product.name;
                productDetailPrice.textContent = `$${product.price.toFixed(2)}`;
                productDetailCategory.textContent = product.category;
                productDetailDescription.textContent = product.description;
                productQuantity.value = 1;

                // Scroll to top
                window.scrollTo(0, 0);
            }
        }

        // Render admin products
        function renderAdminProducts() {
            const products = getProducts();
            adminProductList.innerHTML = '';

            if (products.length === 0) {
                adminProductList.innerHTML = '<p style="text-align: center; padding: 20px;">No products found. Add some products to get started.</p>';
                return;
            }

            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'admin-product-card';
                productCard.innerHTML = `
                    <div class="admin-product-header">
                        <h4>${product.name}</h4>
                        <div class="admin-actions">
                            <button class="btn-edit" data-id="${product.id}">Edit</button>
                            <button class="btn-delete" data-id="${product.id}">Delete</button>
                        </div>
                    </div>
                    <p><strong>Price:</strong> $${product.price.toFixed(2)}</p>
                    <p><strong>Category:</strong> ${product.category}</p>
                    <p><strong>Description:</strong> ${product.description}</p>
                    ${product.image ? `<p><strong>Image:</strong> ${product.image}</p>` : ''}
                `;

                adminProductList.appendChild(productCard);
            });

            // Add event listeners to edit and delete buttons
            document.querySelectorAll('.btn-edit').forEach(button => {
                button.addEventListener('click', handleEdit);
            });

            document.querySelectorAll('.btn-delete').forEach(button => {
                button.addEventListener('click', handleDelete);
            });
        }

        // Handle user sign in with validation
        signinForm.addEventListener('submit', function(e) {
            e.preventDefault();

            // Clear previous errors
            clearFieldError('signinEmail');
            clearFieldError('signinPassword');

            const email = document.getElementById('signinEmail').value;
            const password = document.getElementById('signinPassword').value;

            let hasErrors = false;

            // Validate email
            if (!validateEmail(email)) {
                showFieldError('signinEmail', 'Please enter a valid email address');
                hasErrors = true;
            }

            // Validate password
            if (!validatePassword(password)) {
                showFieldError('signinPassword', 'Password must be at least 6 characters');
                hasErrors = true;
            }

            if (hasErrors) return;

            // Check if admin
            if (email === adminEmail && password === adminPassword) {
                localStorage.setItem('adminLoggedIn', 'true');
                checkUserStatus();
                authOverlay.classList.remove('active');
                showNotification('Admin login successful!', 'success');
                return;
            }

            // Check regular user
            const users = getUsers();
            const hashedPassword = hashPassword(password);
            const user = users.find(u => u.email === email && u.password === hashedPassword);

            if (user) {
                localStorage.setItem('userLoggedIn', 'true');
                localStorage.setItem('currentUserEmail', email);
                checkUserStatus();
                authOverlay.classList.remove('active');
                showNotification('Login successful!', 'success');
            } else {
                showNotification('Invalid email or password!', 'error');
            }
        });

        // Handle user sign up with validation
        signupForm.addEventListener('submit', function(e) {
            e.preventDefault();

            // Clear previous errors
            clearFieldError('signupName');
            clearFieldError('signupEmail');
            clearFieldError('signupPassword');

            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;

            let hasErrors = false;

            // Validate name
            if (name.trim() === '') {
                showFieldError('signupName', 'Name is required');
                hasErrors = true;
            }

            // Validate email
            if (!validateEmail(email)) {
                showFieldError('signupEmail', 'Please enter a valid email address');
                hasErrors = true;
            }

            // Validate password
            if (!validatePassword(password)) {
                showFieldError('signupPassword', 'Password must be at least 6 characters');
                hasErrors = true;
            }

            if (hasErrors) return;

            const users = getUsers();

            // Check if user already exists
            if (users.some(u => u.email === email)) {
                showFieldError('signupEmail', 'User with this email already exists');
                return;
            }

            // Add new user with hashed password
            const hashedPassword = hashPassword(password);
            users.push({
                name,
                email,
                password: hashedPassword
            });

            saveUsers(users);

            // Log in the new user
            localStorage.setItem('userLoggedIn', 'true');
            localStorage.setItem('currentUserEmail', email);
            checkUserStatus();
            authOverlay.classList.remove('active');
            showNotification('Account created successfully!', 'success');
        });

        // Handle auth button click
        authBtn.addEventListener('click', function() {
            if (authBtn.textContent === 'Logout') {
                // User logout
                localStorage.removeItem('userLoggedIn');
                localStorage.removeItem('currentUserEmail');
                checkUserStatus();
                showNotification('Logged out successfully!', 'success');
            } else {
                // Show auth overlay
                authOverlay.classList.add('active');
            }
        });

        // Handle auth close button
        authClose.addEventListener('click', function() {
            authOverlay.classList.remove('active');
        });

        // Handle customize close button
        customizeClose.addEventListener('click', function() {
            customizeOverlay.classList.remove('active');
            customizationRequest.value = '';
        });

        // Handle cancel customize button
        cancelCustomizeBtn.addEventListener('click', function() {
            customizeOverlay.classList.remove('active');
            customizationRequest.value = '';
        });

        // Handle admin button click
        adminBtn.addEventListener('click', function() {
            if (localStorage.getItem('adminLoggedIn') === 'true') {
                // Hide all page sections
                document.querySelectorAll('.page-section').forEach(section => {
                    section.classList.remove('active');
                });

                // Hide hero section
                heroSection.classList.remove('active');

                // Show admin panel
                adminPanel.classList.add('active');
                renderAdminProducts();

                // Scroll to top
                window.scrollTo(0, 0);
            }
        });

        // Handle cart icon click
        cartIcon.addEventListener('click', function() {
            // Hide all pages
            document.querySelectorAll('.page-section').forEach(section => {
                section.classList.remove('active');
            });

            // Hide hero
            heroSection.classList.remove('active');

            // Show cart page
            cartPage.classList.add('active');
            renderCart();

            // Scroll to top
            window.scrollTo(0, 0);
        });

        // Handle auth tabs
        authTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                authTabs.forEach(t => t.classList.remove('active'));
                authForms.forEach(f => f.classList.remove('active'));

                this.classList.add('active');
                const tabName = this.getAttribute('data-tab');
                document.getElementById(`${tabName}Form`).classList.add('active');
            });
        });

        // Handle navigation
        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();

                const page = this.getAttribute('data-page');

                // Hide all pages
                document.querySelectorAll('.page-section').forEach(section => {
                    section.classList.remove('active');
                });

                // Show/hide hero based on page
                if (page === 'home') {
                    heroSection.classList.add('active');
                } else {
                    heroSection.classList.remove('active');
                }

                // Show selected page
                document.getElementById(`${page}Page`).classList.add('active');

                // Scroll to top
                window.scrollTo(0, 0);
            });
        });

        // Handle admin logout
        logoutBtn.addEventListener('click', function() {
            localStorage.removeItem('adminLoggedIn');
            checkUserStatus();
            resetForm();
            showNotification('Admin logged out successfully!', 'success');
        });

        // Handle product form submission
        productForm.addEventListener('submit', function(e) {
            e.preventDefault();

            const id = productId.value;
            const name = document.getElementById('productName').value;
            const price = parseFloat(document.getElementById('productPrice').value);
            const description = document.getElementById('productDescription').value;
            const category = document.getElementById('productCategory').value;
            const image = document.getElementById('productImage').value;

            let products = getProducts();

            if (id) {
                // Update existing product
                const index = products.findIndex(p => p.id == id);
                if (index !== -1) {
                    products[index] = { id: parseInt(id), name, price, description, category, image };
                    saveProducts(products);
                    showNotification('Product updated successfully!', 'success');
                }
            } else {
                // Add new product
                const newProduct = {
                    id: Date.now(),
                    name,
                    price,
                    description,
                    category,
                    image
                };
                products.push(newProduct);
                saveProducts(products);
                showNotification('Product added successfully!', 'success');
            }

            renderProducts();
            renderAdminProducts();
            resetForm();
        });

        // Handle edit
        function handleEdit(e) {
            const id = e.target.getAttribute('data-id');
            const products = getProducts();
            const product = products.find(p => p.id == id);

            if (product) {
                productId.value = product.id;
                document.getElementById('productName').value = product.name;
                document.getElementById('productPrice').value = product.price;
                document.getElementById('productDescription').value = product.description;
                document.getElementById('productCategory').value = product.category;
                document.getElementById('productImage').value = product.image || '';

                formTitle.textContent = 'Edit Product';
                submitBtn.textContent = 'Update Product';
                cancelBtn.style.display = 'inline-block';

                // Scroll to form
                document.getElementById('productForm').scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Handle delete
        function handleDelete(e) {
            const id = e.target.getAttribute('data-id');

            if (confirm('Are you sure you want to delete this product?')) {
                let products = getProducts();
                products = products.filter(p => p.id != id);
                saveProducts(products);
                renderProducts();
                renderAdminProducts();
                showNotification('Product deleted successfully!', 'success');
            }
        }

        // Cancel edit
        cancelBtn.addEventListener('click', resetForm);

        // Reset form
        function resetForm() {
            productForm.reset();
            productId.value = '';
            formTitle.textContent = 'Add New Product';
            submitBtn.textContent = 'Add Product';
            cancelBtn.style.display = 'none';
        }

        // Handle quantity change
        decreaseQuantity.addEventListener('click', function() {
            let value = parseInt(productQuantity.value);
            if (value > 1) {
                productQuantity.value = value - 1;
            }
        });

        increaseQuantity.addEventListener('click', function() {
            let value = parseInt(productQuantity.value);
            if (value < 10) {
                productQuantity.value = value + 1;
            }
        });

        // Handle add to cart
        addToCartBtn.addEventListener('click', function() {
            if (currentProduct) {
                const quantity = parseInt(productQuantity.value);
                let cart = getCart();

                // Check if product is already in cart
                const existingItemIndex = cart.findIndex(item => item.id === currentProduct.id);

                if (existingItemIndex !== -1) {
                    // Update quantity
                    cart[existingItemIndex].quantity += quantity;
                } else {
                    // Add new item
                    cart.push({
                        id: currentProduct.id,
                        name: currentProduct.name,
                        price: currentProduct.price,
                        image: currentProduct.image,
                        quantity: quantity
                    });
                }

                saveCart(cart);
                showNotification(`${currentProduct.name} added to cart!`, 'success');
            }
        });

        // Handle buy now - WhatsApp integration
        buyNowBtn.addEventListener('click', function() {
            if (currentProduct) {
                const quantity = parseInt(productQuantity.value);
                const totalPrice = (currentProduct.price * quantity).toFixed(2);

                // WhatsApp message
                const message = `Hi Looknava! I'm interested in buying:\n\n*Product:* ${currentProduct.name}\n*Quantity:* ${quantity}\n*Price per item:* $${currentProduct.price.toFixed(2)}\n*Total Price:* $${totalPrice}\n\nPlease let me know how to proceed with the payment.`;
                const encodedMessage = encodeURIComponent(message);
                const whatsappURL = `https://wa.me/917989509034?text=${encodedMessage}`;

                // Open WhatsApp in a new tab
                window.open(whatsappURL, '_blank');

                // Also add to cart
                let cart = getCart();
                const existingItemIndex = cart.findIndex(item => item.id === currentProduct.id);

                if (existingItemIndex !== -1) {
                    cart[existingItemIndex].quantity += quantity;
                } else {
                    cart.push({
                        id: currentProduct.id,
                        name: currentProduct.name,
                        price: currentProduct.price,
                        image: currentProduct.image,
                        quantity: quantity
                    });
                }

                saveCart(cart);
                showNotification(`Order sent via WhatsApp and added to cart!`, 'success');
            }
        });

        // Handle customize button
        customizeBtn.addEventListener('click', function() {
            if (currentProduct) {
                // Populate product info summary
                productInfoSummary.innerHTML = `
                    <h3>${currentProduct.name}</h3>
                    <p><strong>Price:</strong> $${currentProduct.price.toFixed(2)}</p>
                    <p><strong>Category:</strong> ${currentProduct.category}</p>
                    <p><strong>Quantity:</strong> ${productQuantity.value}</p>
                `;

                // Show customize overlay
                customizeOverlay.classList.add('active');

                // Focus on textarea
                customizationRequest.focus();
            }
        });

        // Handle submit customization
        submitCustomizeBtn.addEventListener('click', function() {
            if (currentProduct) {
                const quantity = parseInt(productQuantity.value);
                const customizationText = customizationRequest.value.trim();
                const totalPrice = (currentProduct.price * quantity).toFixed(2);

                if (!customizationText) {
                    showNotification('Please enter your customization request!', 'error');
                    return;
                }

                // WhatsApp message
                const message = `Hi Looknava! I'm interested in buying:\n\n*Product:* ${currentProduct.name}\n*Quantity:* ${quantity}\n*Price per item:* $${currentProduct.price.toFixed(2)}\n*Total Price:* $${totalPrice}\n\n*I would like to customize:*\n${customizationText}\n\nPlease let me know how to proceed with the payment.`;
                const encodedMessage = encodeURIComponent(message);
                const whatsappURL = `https://wa.me/917989509034?text=${encodedMessage}`;

                // Open WhatsApp in a new tab
                window.open(whatsappURL, '_blank');

                // Also add to cart
                let cart = getCart();
                const existingItemIndex = cart.findIndex(item => item.id === currentProduct.id);

                if (existingItemIndex !== -1) {
                    cart[existingItemIndex].quantity += quantity;
                } else {
                    cart.push({
                        id: currentProduct.id,
                        name: currentProduct.name,
                        price: currentProduct.price,
                        image: currentProduct.image,
                        quantity: quantity
                    });
                }

                saveCart(cart);

                // Close overlay and reset form
                customizeOverlay.classList.remove('active');
                customizationRequest.value = '';

                showNotification(`Customization request sent via WhatsApp and added to cart!`, 'success');
            }
        });

        // Render cart
        function renderCart() {
            const cart = getCart();
            cartItemsContainer.innerHTML = '';

            if (cart.length === 0) {
                cartItemsContainer.innerHTML = `
                    <div class="empty-cart">
                        <i class="fas fa-shopping-cart"></i>
                        <h3>Your cart is empty</h3>
                        <p>Add some items to your cart to see them here.</p>
                        <button class="btn" id="continueShoppingBtn">Continue Shopping</button>
                    </div>
                `;

                cartSummary.style.display = 'none';

                // Add event listener to continue shopping button
                const continueShoppingBtn = document.getElementById('continueShoppingBtn');
                if (continueShoppingBtn) {
                    continueShoppingBtn.addEventListener('click', function() {
                        document.querySelectorAll('.page-section').forEach(section => {
                            section.classList.remove('active');
                        });

                        homePage.classList.add('active');
                        heroSection.classList.add('active');

                        // Scroll to top
                        window.scrollTo(0, 0);
                    });
                }

                return;
            }

            cart.forEach(item => {
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-image">
                        ${item.image ? `<img src="${item.image}" alt="${item.name}">` : '<i class="fas fa-tshirt fa-3x"></i>'}
                    </div>
                    <div class="cart-item-info">
                        <h3>${item.name}</h3>
                        <div class="cart-item-price">$${item.price.toFixed(2)}</div>
                        <div class="cart-item-quantity">
                            <button class="decrease-item" data-id="${item.id}">-</button>
                            <input type="number" value="${item.quantity}" min="1" max="10" class="item-quantity" data-id="${item.id}">
                            <button class="increase-item" data-id="${item.id}">+</button>
                        </div>
                    </div>
                    <div class="cart-item-remove" data-id="${item.id}">
                        <i class="fas fa-trash"></i>
                    </div>
                `;

                cartItemsContainer.appendChild(cartItem);
            });

            // Add event listeners
            document.querySelectorAll('.decrease-item').forEach(button => {
                button.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    updateCartItemQuantity(id, -1);
                });
            });

            document.querySelectorAll('.increase-item').forEach(button => {
                button.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    updateCartItemQuantity(id, 1);
                });
            });

            document.querySelectorAll('.item-quantity').forEach(input => {
                input.addEventListener('change', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    const quantity = parseInt(this.value);
                    updateCartItemQuantity(id, 0, quantity);
                });
            });

            document.querySelectorAll('.cart-item-remove').forEach(button => {
                button.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    removeCartItem(id);
                });
            });

            // Calculate and display totals
            updateCartTotals();
            cartSummary.style.display = 'block';

            // Add checkout button event listener
            const checkoutBtn = document.getElementById('checkoutBtn');
            if (checkoutBtn) {
                // Remove any existing event listeners
                checkoutBtn.replaceWith(checkoutBtn.cloneNode(true));
                // Add new event listener
                document.getElementById('checkoutBtn').addEventListener('click', handleCheckout);
            }
        }

        // Update cart item quantity
        function updateCartItemQuantity(id, change, newQuantity = null) {
            let cart = getCart();
            const itemIndex = cart.findIndex(item => item.id === id);

            if (itemIndex !== -1) {
                if (newQuantity !== null) {
                    cart[itemIndex].quantity = Math.max(1, Math.min(10, newQuantity));
                } else {
                    cart[itemIndex].quantity = Math.max(1, Math.min(10, cart[itemIndex].quantity + change));
                }

                saveCart(cart);
                renderCart();
            }
        }

        // Remove cart item
        function removeCartItem(id) {
            let cart = getCart();
            cart = cart.filter(item => item.id !== id);
            saveCart(cart);
            renderCart();
            showNotification('Item removed from cart', 'success');
        }

        // Update cart totals
        function updateCartTotals() {
            const cart = getCart();
            let subtotal = 0;

            cart.forEach(item => {
                subtotal += item.price * item.quantity;
            });

            const shipping = subtotal > 0 ? 5.99 : 0;
            const tax = subtotal * 0.08; // 8% tax
            const total = subtotal + shipping + tax;

            cartSubtotal.textContent = `$${subtotal.toFixed(2)}`;
            cartShipping.textContent = `$${shipping.toFixed(2)}`;
            cartTax.textContent = `$${tax.toFixed(2)}`;
            cartTotal.textContent = `$${total.toFixed(2)}`;
        }

        // Handle checkout
        function handleCheckout() {
            const cart = getCart();

            if (cart.length === 0) {
                showNotification('Your cart is empty!', 'error');
                return;
            }

            // Calculate totals
            let subtotal = 0;
            cart.forEach(item => {
                subtotal += item.price * item.quantity;
            });
            const shipping = subtotal > 0 ? 5.99 : 0;
            const tax = subtotal * 0.08; // 8% tax
            const total = subtotal + shipping + tax;

            // Build WhatsApp message
            let message = "Hi Looknava! I would like to checkout the following items:\n\n";

            cart.forEach((item, index) => {
                const itemTotal = (item.price * item.quantity).toFixed(2);
                message += `*Item ${index + 1}:*\n`;
                message += `  *Product:* ${item.name}\n`;
                message += `  *Quantity:* ${item.quantity}\n`;
                message += `  *Price per item:* $${item.price.toFixed(2)}\n`;
                message += `  *Item Total:* $${itemTotal}\n\n`;
            });

            message += `*Order Summary:*\n`;
            message += `  *Subtotal:* $${subtotal.toFixed(2)}\n`;
            message += `  *Shipping:* $${shipping.toFixed(2)}\n`;
            message += `  *Tax:* $${tax.toFixed(2)}\n`;
            message += `  *Total:* $${total.toFixed(2)}\n\n`;
            message += "Please let me know how to proceed with the payment.";

            const encodedMessage = encodeURIComponent(message);
            const whatsappURL = `https://wa.me/917989509034?text=${encodedMessage}`;

            // Open WhatsApp in a new tab
            window.open(whatsappURL, '_blank');

            // Clear cart after successful checkout
            saveCart([]);
            updateCartCount();
            renderCart();

            showNotification('Checkout details sent via WhatsApp! Cart has been cleared.', 'success');
        }

        // Add event listeners for search and filter
        searchBtn.addEventListener('click', filterProducts);
        searchInput.addEventListener('keyup', function(e) {
            if (e.key === 'Enter') {
                filterProducts();
            }
        });

        categoryFilter.addEventListener('change', filterProducts);

        // Initialize
        initDatabase();
        checkUserStatus();

        // Show hero on home page
        if (homePage.classList.contains('active')) {
            heroSection.classList.add('active');
        }

        // Add keyboard navigation support
        document.addEventListener('keydown', function(e) {
            // Escape key closes overlays
            if (e.key === 'Escape') {
                if (authOverlay.classList.contains('active')) {
                    authOverlay.classList.remove('active');
                }
                if (customizeOverlay.classList.contains('active')) {
                    customizeOverlay.classList.remove('active');
                    customizationRequest.value = '';
                }
            }
        });

        // Add ARIA attributes to dynamic elements
        function updateAriaAttributes() {
            // Update cart icon with item count
            const cartItemCount = cartCount.textContent;
            cartIcon.setAttribute('aria-label', `Shopping cart with ${cartItemCount} items`);

            // Update notification role
            notification.setAttribute('role', 'alert');
            notification.setAttribute('aria-live', 'assertive');
        }

        // Call updateAriaAttributes when cart changes
        const originalSaveCart = saveCart;
        saveCart = function(cart) {
            originalSaveCart(cart);
            updateAriaAttributes();
        };

        // Initial call
        updateAriaAttributes();
    </script>
</body>
</html>
